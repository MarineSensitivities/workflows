<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ingest SDMs: NCCOS Atlantic &amp; Pacific Seabird Densities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="ingest_sdm-nc_files/libs/clipboard/clipboard.min.js"></script>
<script src="ingest_sdm-nc_files/libs/quarto-html/quarto.js"></script>
<script src="ingest_sdm-nc_files/libs/quarto-html/popper.min.js"></script>
<script src="ingest_sdm-nc_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ingest_sdm-nc_files/libs/quarto-html/anchor.min.js"></script>
<link href="ingest_sdm-nc_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ingest_sdm-nc_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ingest_sdm-nc_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ingest_sdm-nc_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ingest_sdm-nc_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="ingest_sdm-nc_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="ingest_sdm-nc_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="ingest_sdm-nc_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="ingest_sdm-nc_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="ingest_sdm-nc_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="ingest_sdm-nc_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="ingest_sdm-nc_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="ingest_sdm-nc_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="ingest_sdm-nc_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="ingest_sdm-nc_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="ingest_sdm-nc_files/libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="ingest_sdm-nc_files/libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="ingest_sdm-nc_files/libs/rdeck-0.5.2/rdeck.bundle.css" rel="stylesheet">
<link href="ingest_sdm-nc_files/libs/rdeck-0.5.2/fonts.bundle.css" rel="stylesheet">
<script src="ingest_sdm-nc_files/libs/rdeck-0.5.2/rdeck.bundle.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Ingest SDMs: NCCOS Atlantic &amp; Pacific Seabird Densities</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>NCCOS Atlantic &amp; Pacific Seabird Densities <span class="citation" data-cites="winship2018 leirness2021">(<a href="#ref-winship2018" role="doc-biblioref">Winship et al. 2018</a>; <a href="#ref-leirness2021" role="doc-biblioref">Leirness et al. 2021</a>)</span></p>
<p>NCCOS Assessments: Modeling At-Sea Density of Marine Birds for Atlantic and Pacific</p>
<ul>
<li><p>Atlantic <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0176682">NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682)</a></p></li>
<li><p>Pacific: <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0242882">NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882)</a></p></li>
</ul>
<pre><code>/Users/bbest/My Drive/projects/_archive/offhab/data/raw/

ncei.noaa.gov - seabirds, atlantic/
- 0176682/1.1/data/0-data/NCCOS-Atlantic-Birds_ArchiveDataPackage/NCCOS-Atlantic-Birds_ArchiveDataPackage/Documentation/
  - Atlantic_bird_mapping_data_documentation.pdf
  - atl_spp.xlsx

ncei.noaa.gov - seabirds, pacific/
- 0242882/1.1/data/1-data/4LFC6T_PacificBirds_NCCOS/
  - DataDocumentation.pdf
  - pac_spp.xlsx</code></pre>
<div class="cell" data-messages="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>librarian<span class="sc">::</span><span class="fu">shelf</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># devtools, </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  dplyr, DT, fs, gdalUtilities, glue, here, httr2, janitor, jsonlite, knitr,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  mapview, purrr, readr,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  readxl, sf, stringr, terra, tibble, tidyr, units,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">quiet =</span> T)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">readr.show_col_types =</span> F)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"libs/db.R"</span>)) <span class="co"># con, create_index()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>schema <span class="ot">&lt;-</span> <span class="st">"public"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>d_dataset_atl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ds_key        =</span> <span class="st">"nc_atl_birds_dens"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">response_type =</span> <span class="st">"density"</span>,             </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ds_key:     "{src}-{rgn}-{taxa}-{resp}"; see below for response_type, taxa_groups lookups</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># name_short: "{source_broad} {regions} {taxa_groups} {response_type}"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_short  =</span> <span class="st">"NCCOS Atlantic Seabird Densities"</span>, </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_full   =</span> <span class="st">"NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682)"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">link        =</span> <span class="st">"https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0176682"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">citation    =</span> <span class="st">"Winship, Arliss J.; Kinlan, Brian P.; White, Timothy P.; Leirness, Jeffery B.; Christensen, John (2018). NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682). [indicate subset used]. NOAA National Centers for Environmental Information. Dataset. https://doi.org/10.25921/8eq5-q834. Accessed October 6, 2022."</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="st">"This dataset provides seasonal spatial rasters of predicted long-term (1980-2017) density of 33 individual species and 13 taxonomic groups of marine birds throughout the Pacific Outer Continental Shelf (OCS) and adjacent waters off the contiguous United States at 2-km spatial resolution. Two indications of the uncertainty associated with the model predictions are also provided: 1) seasonal spatial layers indicating areas with no survey effort and 2) seasonal spatial rasters of the precision of predicted density of each species/group characterized as its coefficient of variation (CV). Predicted density should always be considered in conjunction with these two indications of uncertainty. This dataset also includes spatial rasters of environmental predictor variables that were used in the predictive modeling."</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># response_type: one of: occurrence [occs], range [rng], suitability [suit], probability [pr], biomass [m], density [dens], abundance [n]</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># taxa_groups: one or more of: fish [fish], invertebrates [inverts], marine mammals [marmams], cetaceans [cets], sea turtles [turtles], seabirds [birds], etc.</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">taxa_groups  =</span> <span class="st">"seabirds"</span>, </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">year_pub     =</span> <span class="dv">2018</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_beg =</span> <span class="st">"1980-01-01"</span>, </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_end =</span> <span class="st">"2016-10-05"</span>,      <span class="co"># up to, but not including *_end</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_beg =</span> <span class="st">"1992-01-01"</span>, </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_end =</span> <span class="st">"2018-01-01"</span>,      <span class="co"># up to, but not including *_end</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">regions      =</span> <span class="fu">list</span>(<span class="st">"Atlantic"</span>))  <span class="co"># array</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>d_dataset_pac <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">ds_key        =</span> <span class="st">"nc_pac_birds_dens"</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">response_type =</span> <span class="st">"density"</span>,             </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ds_key:     "{src}-{rgn}-{taxa}-{resp}"; see below for response_type, taxa_groups lookups</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># name_short: "{source_broad} {regions} {taxa_groups} {response_type}"</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_short  =</span> <span class="st">"NCCOS Pacific Seabird Densities"</span>, </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_full   =</span> <span class="st">"NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882)"</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">link        =</span> <span class="st">"https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0242882"</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">citation    =</span> <span class="st">"Leirness, Jeffery B.; Adams, Josh; Ballance, Lisa T.; Coyne, Michael; Felis, Jonathan J.; Joyce, Trevor; Pereksta, David M.; Winship, Arliss J. (2022). NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882). [indicate subset used]. NOAA National Centers for Environmental Information. Dataset. https://doi.org/10.25921/xqf2-r853. Accessed October 6, 2022."</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="st">"This dataset provides seasonal spatial rasters of predicted long-term (1980-2017) density of 33 individual species and 13 taxonomic groups of marine birds throughout the Pacific Outer Continental Shelf (OCS) and adjacent waters off the contiguous United States at 2-km spatial resolution. Two indications of the uncertainty associated with the model predictions are also provided: 1) seasonal spatial layers indicating areas with no survey effort and 2) seasonal spatial rasters of the precision of predicted density of each species/group characterized as its coefficient of variation (CV). Predicted density should always be considered in conjunction with these two indications of uncertainty. This dataset also includes spatial rasters of environmental predictor variables that were used in the predictive modeling."</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># response_type: one of: occurrence [occs], range [rng], suitability [suit], probability [pr], biomass [m], density [dens], abundance [n]</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># taxa_groups: one or more of: fish [fish], invertebrates [inverts], marine mammals [marmams], cetaceans [cets], sea turtles [turtles], seabirds [birds], etc.</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">taxa_groups  =</span> <span class="st">"seabirds"</span>, </span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">year_pub     =</span> <span class="dv">2022</span>,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_beg =</span> <span class="st">"1978-01-01"</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_end =</span> <span class="st">"2017-01-01"</span>,     <span class="co"># up to, but not including *_end</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_beg =</span> <span class="st">"1981-01-01"</span>, </span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_end =</span> <span class="st">"2017-01-01"</span>,     <span class="co"># up to, but not including *_end</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">regions      =</span> <span class="fu">list</span>(<span class="st">"Pacific"</span>))  <span class="co"># array</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>d_datasets <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(d_dataset_atl, d_dataset_pac)</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="co"># check: View(d_datasets); write_csv(d_datasets, "data/nc_datasets.csv"); glimpse(d_datasets)</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="co"># names(d_dataset) |&gt; paste(collapse = ", ") |&gt; cat()</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>t_datasets <span class="ot">&lt;-</span> <span class="fu">Id</span>(<span class="at">schema =</span> schema, <span class="at">table =</span> <span class="st">"sdm_datasets"</span>)</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>row_exists <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con, t_datasets) <span class="sc">|&gt;</span> <span class="fu">filter</span>(ds_key <span class="sc">%in%</span> <span class="sc">!!</span>d_datasets<span class="sc">$</span>ds_key) <span class="sc">|&gt;</span> <span class="fu">collect</span>() <span class="sc">|&gt;</span> <span class="fu">nrow</span>() <span class="sc">==</span> <span class="fu">length</span>(d_datasets<span class="sc">$</span>ds_key)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span>row_exists){</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># append, except array columns: regions</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>    con, t_datasets, <span class="at">append =</span> T,</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>    d_datasets <span class="sc">|&gt;</span> </span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>regions) )</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(d_datasets)){ <span class="co"># i=1</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># append array column: regions</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    regions_sql <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>      <span class="st">"ARRAY['{d_datasets$regions[[i]] |&gt; unlist() |&gt; paste(collapse = ', ')}']"</span>)</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>      con, </span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glue</span>(</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>        <span class="st">"UPDATE sdm_datasets </span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="st">        SET   regions = {regions_sql}</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a><span class="st">        WHERE ds_key  = '{d_datasets$ds_key[[i]]}'"</span>) )</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (F){ <span class="co"># run once for quick fix</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbExecute</span>(con, <span class="fu">glue</span>(</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UPDATE sdm_datasets </span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a><span class="st">     SET   spatial_data_type = 'raster'"</span>))</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbExecute</span>(con, <span class="fu">glue</span>(</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UPDATE sdm_datasets </span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a><span class="st">     SET   spatial_data_type = 'vector'</span></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a><span class="st">     WHERE ds_key = 'gm'"</span>) )</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a><span class="fu">tbl</span>(con, t_datasets) <span class="sc">|&gt;</span> </span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ds_key <span class="sc">%in%</span> <span class="sc">!!</span>d_datasets<span class="sc">$</span>ds_key) <span class="sc">|&gt;</span> </span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2
Columns: 18
$ ds_key            &lt;chr&gt; "nc_pac_birds_dens", "nc_atl_birds_dens"
$ name_short        &lt;chr&gt; "NCCOS Pacific Seabird Densities", "NCCOS Atlantic S…
$ name_full         &lt;chr&gt; "NCCOS Assessment: Modeling at-sea density of marine…
$ link              &lt;chr&gt; "https://www.ncei.noaa.gov/access/metadata/landing-p…
$ links_other       &lt;pq__vrch&gt; NA, NA
$ source_broad      &lt;chr&gt; NA, NA
$ source_detail     &lt;chr&gt; NA, NA
$ regions           &lt;pq__vrch&gt; {Pacific}, {Atlantic}
$ description       &lt;chr&gt; "This dataset provides seasonal spatial rasters of p…
$ citation          &lt;chr&gt; "Leirness, Jeffery B.; Adams, Josh; Ballance, L…
$ response_type     &lt;chr&gt; "density", "density"
$ taxa_groups       &lt;chr&gt; "seabirds", "seabirds"
$ year_pub          &lt;int&gt; 2022, 2018
$ date_obs_beg      &lt;date&gt; 1978-01-01, 1980-01-01
$ date_obs_end      &lt;date&gt; 2017-01-01, 2018-01-01
$ date_env_beg      &lt;date&gt; 1981-01-01, 1992-01-01
$ date_env_end      &lt;date&gt; 2017-01-01, 2018-01-01
$ spatial_data_type &lt;chr&gt; "raster", "raster"</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setup paths ----</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dir_g   <span class="ot">&lt;-</span> <span class="st">"/Users/bbest/My Drive/projects/_archive/offhab/data/raw"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>dir_atl <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_g}/ncei.noaa.gov - seabirds, atlantic/0176682/1.1/data/0-data/NCCOS-Atlantic-Birds_ArchiveDataPackage"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>dir_pac <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_g}/ncei.noaa.gov - seabirds, pacific/0242882/1.1/data/0-data"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>spp_atl_xls <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_atl}/Documentation/atl_spp.xlsx"</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>spp_pac_xls <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_pac}/4LFC6T_PacificBirds_NCCOS/pac_spp.xlsx"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># get Atlantic rasters ----</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>dir_atl_tif <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_atl}/Data/model_output_predictions"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>rx_atl  <span class="ot">&lt;-</span> <span class="st">"(.+)_(.+)_predicted_relative_density_bootstrap_(.+)</span><span class="sc">\\</span><span class="st">.tif$"</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>d_atl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_tif =</span> <span class="fu">list.files</span>(dir_atl_tif, rx_atl, <span class="at">full.names =</span> T, <span class="at">recursive =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">file_tif =</span> <span class="fu">basename</span>(path_tif),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">region   =</span> <span class="st">"Atlantic"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_code  =</span> <span class="fu">str_replace</span>(file_tif, rx_atl, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">season   =</span> <span class="fu">str_replace</span>(file_tif, rx_atl, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">var      =</span> <span class="fu">str_replace</span>(file_tif, rx_atl, <span class="st">"</span><span class="sc">\\</span><span class="st">3"</span>))</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co"># d_atl |&gt; select(-path_tif) |&gt; glimpse()</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Rows: 420</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns: 5</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># $ file_tif &lt;chr&gt; "ATPU_fall_predicted_relative_density_bootstrap_CV.tif", "ATPU_fall_predicted_relative_den…</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co"># $ region   &lt;chr&gt; "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlan…</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co"># $ sp_code  &lt;chr&gt; "ATPU", "ATPU", "ATPU", "AUSH", "AUSH", "AUSH", "BCPE", "BCPE", "BCPE", "BLKI", "BLKI", "B…</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co"># $ season   &lt;chr&gt; "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "f…</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co"># $ var      &lt;chr&gt; "CV", "QUANT_50", "RANGE_CI90", "CV", "QUANT_50", "RANGE_CI90", "CV", "QUANT_50", "RANGE_C…</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co"># check all tifs: fs::dir_ls(dir_atl_tif, glob="*.tif", recursive=T) |&gt; length()</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>           </span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="co"># get Pacific rasters ----</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>dir_pac_tif <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_pac}/model_output_predictions"</span>)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>rx_pac      <span class="ot">&lt;-</span> <span class="st">"(.+)_(.+)_predicted_(.*).tif$"</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>d_pac       <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_tif =</span> <span class="fu">list.files</span>(dir_pac_tif, rx_pac, <span class="at">full.names =</span> T, <span class="at">recursive =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">file_tif =</span> <span class="fu">basename</span>(path_tif),</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">region   =</span> <span class="st">"Pacific"</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_code  =</span> <span class="fu">str_replace</span>(file_tif, rx_pac, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>),</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">season   =</span> <span class="fu">str_replace</span>(file_tif, rx_pac, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>),</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">var      =</span> <span class="fu">str_replace</span>(file_tif, rx_pac, <span class="st">"</span><span class="sc">\\</span><span class="st">3"</span>))</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># d_pac |&gt; select(-path_tif) |&gt; glimpse()</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Rows: 270</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns: 5</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="co"># $ file_tif &lt;chr&gt; "ANMU_spring_predicted_density_CV.tif", "ANMU_spring_predicted_density.tif", "ASSP_fall_pred…</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="co"># $ region   &lt;chr&gt; "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pac…</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># $ sp_code  &lt;chr&gt; "ANMU", "ANMU", "ASSP", "ASSP", "ASSP", "ASSP", "ASSP", "ASSP", "BFAL", "BFAL", "BFAL", "BFA…</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="co"># $ season   &lt;chr&gt; "spring", "spring", "fall", "fall", "spring", "spring", "summer", "summer", "fall", "fall", …</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="co"># $ var      &lt;chr&gt; "density_CV", "density", "density_CV", "density", "density_CV", "density", "density_CV", "de…</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="co"># check for any missing TIFs: fs::dir_ls(dir_pac_tif, glob="*.tif", recursive=T) |&gt; length()</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="co"># combine Atlantic and Pacific ----</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>  d_atl,</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>  d_pac)</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a><span class="co"># run once</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (F){</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># read in rasters ----</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(region, sp_code, season, var, path_tif) <span class="sc">|&gt;</span> </span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">r      =</span> <span class="fu">map</span>(path_tif, terra<span class="sc">::</span>rast),</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">crs    =</span> <span class="fu">map_chr</span>(r, crs, <span class="at">proj=</span>T),</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>      <span class="at">crs_tr =</span> <span class="fu">map_chr</span>(crs, str_trunc, <span class="dv">24</span>),</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>      <span class="at">nrow   =</span> <span class="fu">map_int</span>(r, nrow),</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>      <span class="at">ncol   =</span> <span class="fu">map_int</span>(r, ncol)) <span class="sc">|&gt;</span> </span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(region, crs_tr, sp_code, season, var)</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># confirm same dims per region: d |&gt; select(nrow, ncol, region) |&gt; table()</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fix rasters in Atlantic missing crs ----</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>  <span class="co"># unique(d$crs)</span></span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>  <span class="co"># [1] "+proj=omerc +lat_0=35 +lonc=-75 +alpha=40 +gamma=40 +k=0.9996 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  <span class="co"># [2] ""</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># [3] "+proj=omerc +lat_0=39 +lonc=-125 +alpha=75 +gamma=75 +k=0.9996 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>  <span class="co"># d |&gt; select(crs_tr, region) |&gt; table()</span></span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                           region</span></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>  <span class="co"># crs_tr                     Atlantic Pacific</span></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                                   7       0</span></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   +proj=omerc +lat_0=35...      413       0</span></span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   +proj=omerc +lat_0=39...        0     270</span></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>  crs_atl <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"Atlantic"</span> <span class="sc">&amp;</span> crs <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(crs)</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>      <span class="at">r =</span> <span class="fu">map</span>(r, \(x) {</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">crs</span>(x) <span class="sc">==</span> <span class="st">""</span>)</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>          <span class="fu">crs</span>(x) <span class="ot">&lt;-</span> crs_atl</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>        x } ) ) <span class="sc">|&gt;</span> </span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>crs, <span class="sc">-</span>crs_tr, <span class="sc">-</span>nrow, <span class="sc">-</span>ncol)</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>  <span class="co"># write rasters per model (region-species-season), including all vars ----</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>  dir_tif <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data/sdm/raw"</span>)</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (dir_ds <span class="cf">in</span> <span class="fu">glue</span>(<span class="st">"{dir_tif}/{d_datasets$ds_key}"</span>))</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(dir_ds, <span class="at">recursive =</span> T, <span class="at">showWarnings =</span> F)</span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>  <span class="co"># * standardize vars ----</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>  <span class="co"># d |&gt; select(region, var) |&gt; table()</span></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>  <span class="co">#           var</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>  <span class="co"># region      CV density density_CV QUANT_50 RANGE_CI90</span></span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Atlantic 140       0          0      140        140</span></span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Pacific    0     135        135        0          0</span></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>      <span class="at">ds_key  =</span> <span class="fu">case_match</span>(</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>        region,</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Atlantic"</span> <span class="sc">~</span> <span class="st">"nc_atl_birds_dens"</span>,</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Pacific"</span>  <span class="sc">~</span> <span class="st">"nc_pac_birds_dens"</span>),</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>      <span class="at">mdl_tif =</span> <span class="fu">glue</span>(<span class="st">"{dir_tif}/{ds_key}/{sp_code}_{season}.tif"</span>),</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>      <span class="at">var     =</span> <span class="fu">case_match</span>(</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>        var,</span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>        <span class="st">"density"</span>    <span class="sc">~</span> <span class="st">"n_per_km2"</span>,</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>        <span class="st">"QUANT_50"</span>   <span class="sc">~</span> <span class="st">"n_per_km2"</span>,</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>        <span class="st">"density_CV"</span> <span class="sc">~</span> <span class="st">"cv_n_per_km2"</span>,</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CV"</span>         <span class="sc">~</span> <span class="st">"cv_n_per_km2"</span>,</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>        <span class="st">"RANGE_CI90"</span> <span class="sc">~</span> <span class="st">"ci90_n_per_km2"</span>) )</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>  d_mdls <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>      ds_key, region, sp_code, season, </span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>      <span class="co"># arrange by var to ensure n_per_km2 (density) is first, cv second</span></span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>      <span class="fu">factor</span>(var, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"n_per_km2"</span>, <span class="st">"cv_n_per_km2"</span>, <span class="st">"ci90_n_per_km2"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(ds_key, region, sp_code, season, mdl_tif) <span class="sc">|&gt;</span> </span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nest</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>  <span class="co"># * write out rasters per model, convert to COG ----</span></span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>  d_mdls <span class="sc">|&gt;</span></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(data, mdl_tif) <span class="sc">|&gt;</span></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pwalk</span>(\(data, mdl_tif) {</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>      tmp_tif <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".tif"</span>)</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>      <span class="co"># if mdl_tif already exists and is a valid COG, skip</span></span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">file_exists</span>(mdl_tif)){</span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>        is_cog <span class="ot">&lt;-</span> <span class="fu">system</span>(<span class="fu">glue</span>(<span class="st">"rio cogeo validate {mdl_tif}"</span>), <span class="at">intern=</span>T) <span class="sc">|&gt;</span> </span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>          <span class="fu">str_detect</span>(<span class="st">" is a valid cloud optimized GeoTIFF"</span>)</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (is_cog)</span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>          <span class="fu">return</span>()</span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a>        <span class="fu">file_move</span>(mdl_tif, tmp_tif)</span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>        r        <span class="ot">&lt;-</span> <span class="fu">rast</span>(data<span class="sc">$</span>r)</span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>        <span class="fu">names</span>(r) <span class="ot">&lt;-</span> data<span class="sc">$</span>var</span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a>        <span class="fu">writeRaster</span>(r, <span class="at">file =</span> tmp_tif, <span class="at">overwrite =</span> T)</span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a>      <span class="fu">system</span>(<span class="fu">glue</span>(<span class="st">"rio cogeo create {tmp_tif} {mdl_tif}"</span>))</span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unlink</span>(tmp_tif)</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-160"><a href="#cb5-160" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Uploaded all data/sdm/raw/{ds_key}/*.tif to rstudio.marinesensitivity.org:/share/public/cog/sdm/raw/{ds_key}/*.tif </span></span>
<span id="cb5-161"><a href="#cb5-161" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-162"><a href="#cb5-162" aria-hidden="true" tabindex="-1"></a>  <span class="co"># </span><span class="al">TODO</span><span class="co">: make COGs (*.tif) into STAC w/ json metadata</span></span>
<span id="cb5-163"><a href="#cb5-163" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-164"><a href="#cb5-164" aria-hidden="true" tabindex="-1"></a>  <span class="co"># * write out temp csv (later db tbl) of all models for shiny app sdm-cog, including band index `bidx` ----</span></span>
<span id="cb5-165"><a href="#cb5-165" aria-hidden="true" tabindex="-1"></a>  d <span class="sc">|&gt;</span> </span>
<span id="cb5-166"><a href="#cb5-166" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(</span>
<span id="cb5-167"><a href="#cb5-167" aria-hidden="true" tabindex="-1"></a>      ds_key, region, sp_code, season, </span>
<span id="cb5-168"><a href="#cb5-168" aria-hidden="true" tabindex="-1"></a>      <span class="co"># arrange by var to ensure n_per_km2 (density) is first, cv second</span></span>
<span id="cb5-169"><a href="#cb5-169" aria-hidden="true" tabindex="-1"></a>      <span class="fu">factor</span>(var, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"n_per_km2"</span>, <span class="st">"cv_n_per_km2"</span>, <span class="st">"ci90_n_per_km2"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb5-170"><a href="#cb5-170" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-171"><a href="#cb5-171" aria-hidden="true" tabindex="-1"></a>      <span class="at">cog_url =</span> <span class="fu">glue</span>(<span class="st">"https://file.marinesensitivity.org/cog/sdm/raw/{ds_key}/{basename(mdl_tif)}"</span>),</span>
<span id="cb5-172"><a href="#cb5-172" aria-hidden="true" tabindex="-1"></a>      <span class="at">bidx    =</span> <span class="fu">factor</span>(var, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"n_per_km2"</span>, <span class="st">"cv_n_per_km2"</span>, <span class="st">"ci90_n_per_km2"</span>)) <span class="sc">|&gt;</span> <span class="fu">as.integer</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb5-173"><a href="#cb5-173" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>r, <span class="sc">-</span>path_tif, <span class="sc">-</span>mdl_tif) <span class="sc">|&gt;</span> </span>
<span id="cb5-174"><a href="#cb5-174" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(ds_key) <span class="sc">|&gt;</span></span>
<span id="cb5-175"><a href="#cb5-175" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_csv</span>(<span class="fu">here</span>(<span class="st">"data/nc_models.csv"</span>))</span>
<span id="cb5-176"><a href="#cb5-176" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check: x |&gt; select(var, bidx) |&gt; table() </span></span>
<span id="cb5-177"><a href="#cb5-177" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-178"><a href="#cb5-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-179"><a href="#cb5-179" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: write d_mdls, d_spp to db </span></span>
<span id="cb5-180"><a href="#cb5-180" aria-hidden="true" tabindex="-1"></a><span class="co">#       use 'nc_*', not 'gm'</span></span>
<span id="cb5-181"><a href="#cb5-181" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-182"><a href="#cb5-182" aria-hidden="true" tabindex="-1"></a><span class="co"># t_mdls &lt;- Id(schema = schema, table = "sdm_models")</span></span>
<span id="cb5-183"><a href="#cb5-183" aria-hidden="true" tabindex="-1"></a><span class="co"># rows_exist &lt;- tbl(con, t_mdls) |&gt; filter(ds_key == "gm") |&gt; summarize(n()) |&gt; pull() &gt; 0</span></span>
<span id="cb5-184"><a href="#cb5-184" aria-hidden="true" tabindex="-1"></a><span class="co"># if (!rows_exist)</span></span>
<span id="cb5-185"><a href="#cb5-185" aria-hidden="true" tabindex="-1"></a><span class="co">#   dbWriteTable(con, t_mdls, d_mdls, append = T)</span></span>
<span id="cb5-186"><a href="#cb5-186" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb5-187"><a href="#cb5-187" aria-hidden="true" tabindex="-1"></a><span class="co"># t_spp &lt;- Id(schema = schema, table = "sdm_species")</span></span>
<span id="cb5-188"><a href="#cb5-188" aria-hidden="true" tabindex="-1"></a><span class="co"># rows_exist &lt;- tbl(con, t_spp) |&gt; filter(ds_key == "gm") |&gt; summarize(n()) |&gt; pull() &gt; 0</span></span>
<span id="cb5-189"><a href="#cb5-189" aria-hidden="true" tabindex="-1"></a><span class="co"># if (!rows_exist)</span></span>
<span id="cb5-190"><a href="#cb5-190" aria-hidden="true" tabindex="-1"></a><span class="co">#   dbWriteTable(con, t_spp, d_spp, append = T)</span></span>
<span id="cb5-191"><a href="#cb5-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-192"><a href="#cb5-192" aria-hidden="true" tabindex="-1"></a><span class="co"># table(d$var, d$region)</span></span>
<span id="cb5-193"><a href="#cb5-193" aria-hidden="true" tabindex="-1"></a><span class="co">#                  Atlantic Pacific</span></span>
<span id="cb5-194"><a href="#cb5-194" aria-hidden="true" tabindex="-1"></a><span class="co">#   ci90_n_per_km2      140       0</span></span>
<span id="cb5-195"><a href="#cb5-195" aria-hidden="true" tabindex="-1"></a><span class="co">#   cv_n_per_km2        140     135</span></span>
<span id="cb5-196"><a href="#cb5-196" aria-hidden="true" tabindex="-1"></a><span class="co">#   n_per_km2           140     135</span></span>
<span id="cb5-197"><a href="#cb5-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-198"><a href="#cb5-198" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: Pacific: somehow include survey_effort_mask_{season}.shp</span></span>
<span id="cb5-199"><a href="#cb5-199" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-200"><a href="#cb5-200" aria-hidden="true" tabindex="-1"></a><span class="co"># d &lt;- d |&gt; </span></span>
<span id="cb5-201"><a href="#cb5-201" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(</span></span>
<span id="cb5-202"><a href="#cb5-202" aria-hidden="true" tabindex="-1"></a><span class="co">#     datatype = map_chr(r, datatype))</span></span>
<span id="cb5-203"><a href="#cb5-203" aria-hidden="true" tabindex="-1"></a><span class="co"># table(d$datatype, d$region)</span></span>
<span id="cb5-204"><a href="#cb5-204" aria-hidden="true" tabindex="-1"></a><span class="co"># FLT8S</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># map COG ----</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>cog_url        <span class="ot">=</span> <span class="st">"https://file.marinesensitivity.org/cog/sdm/raw/nc_atl_birds_dens/ARTE_summer.tif"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>cog_method     <span class="ot">=</span> <span class="st">"bilinear"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>cog_palette    <span class="ot">=</span> <span class="st">"spectral_r"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>lgnd_palette   <span class="ot">=</span> <span class="st">"Spectral"</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>lgnd_palette_r <span class="ot">=</span> T</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>bidx           <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># * plot locally ----</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>cog_tif <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  cog_url,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://file.marinesensitivity.org/cog/sdm"</span>,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">"data/sdm"</span>))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">file.exists</span>(cog_tif))</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">rast</span>(cog_tif, <span class="at">lyrs=</span>bidx)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(r) <span class="co"># plot native terra</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ingest_sdm-nc_files/figure-html/map-cog-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># * plot via terra::plet() ----</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plet</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  r, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>, <span class="st">"Spectral"</span>) <span class="sc">|&gt;</span> <span class="fu">rev</span>(),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tiles =</span> <span class="st">"Esri.OceanBasemap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-4002e1a8334028616695" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4002e1a8334028616695">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,"Esri.OceanBasemap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addRasterImage","args":["data:image/png;base64,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",[[52.56102421770353,-87.01826234455908],[23.06746052733126,-52.26960554260496]],null,null,{"tileSize":256,"zIndex":1,"minZoom":0,"opacity":0.8}]},{"method":"addLegend","args":[{"colors":["#9E0142 , #E04F4B 13.4864058836362%, #FB9C58 27.0210683350342%, #FEE28E 40.5557307864321%, #F5FBAF 54.09039323783%, #BAE3A1 67.625055689228%, #62BBA8 81.1597181406259%, #4F6EB0 94.6943805920238%, #5E4FA2 "],"labels":["0.7","0.6","0.5","0.4","0.3","0.2","0.1"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"numeric","title":"n_per_km2","extra":{"p_1":0.1348640588363625,"p_n":0.9469438059202384},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[23.06746052733126,52.56102421770353],"lng":[-87.01826234455908,-52.26960554260496]}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># * plot via leaflet ----</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>r_mer <span class="ot">&lt;-</span> leaflet<span class="sc">::</span><span class="fu">projectRasterForLeaflet</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  r, <span class="at">method =</span> <span class="st">"bilinear"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(<span class="st">"Spectral"</span>, <span class="fu">values</span>(r_mer),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.color =</span> <span class="st">"transparent"</span>, <span class="at">reverse =</span> T)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span> </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(<span class="st">"Esri.OceanBasemap"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addRasterImage</span>(r_mer, <span class="at">colors =</span> pal, <span class="at">opacity =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(<span class="at">pal =</span> pal, <span class="at">values =</span> <span class="fu">values</span>(r_mer),</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">names</span>(r_mer))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-1ee502eb6d9526676803" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1ee502eb6d9526676803">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABeEAAAawCAYAAADr5pBQAAAgAElEQVR4nOzdy69laVnH8d+71tp7n1O37haCcaBO/BcYOJHEoESRWxQ1UXRkHBm8xZhoVAYaNMHowGh04AUxRI2hQVFQvA104v+AifESWy7VdTtn77XW62DtqjZA06g8DeLnk1TOqXNbb86svvup52299wAAAAAAAJ9/wxf6AAAAAAAA8KVKhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAoIsIDAAAAAEARER4AAAAAAIqI8AAAAAAAUESEBwAAAACAIiI8AAAAAAAUEeEBAAAAAKCICA8AAAAAAEVEeAAAAAAAKCLCAwAAAABAEREeAAAAAACKiPAAAAAAAFBEhAcAAAAAgCIiPAAAAAAAFBHhAQAAAACgiAgPAAAAAABFRHgAAAAAACgiwgMAAAAAQBERHgAAAAAAiojwAAAAAABQRIQHAAAAAIAiIjwAAAAAABQR4QEAAAAAoIgIDwAAAAAARUR4AAAAAAAo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LXMu8m0XzWs3da7XMi2fr2iajbsrIJVv+uHVSje3HuyrSTUw7S+l8034SU3sm4dC44i92jAxL87D1GFf50lT/OJi8L7UezrdIfskAFJFz8BO+PdCREREW0T0gv9HiYiIiIjoNtmqAD6XBa232rrOw0Wh93Wc55UHuts75gE1TBZamzml8c0dz/llCuPTdHv83sdJeDXSTNSnBWO7+453cWnh1eFj7z+H/oS89jad3dcct/Bvhp/wISIi2i6chCciIiIiotsnnxAfuv06tMPeK9wxkDypdhomzwVQScn2zF3i7fkDa3Z+pHNzPnlu1EMN4EsLXxr4wqCY1JDKh+00PiHV3sR6Xl4fdz3wvIduC89x6AkQERERbS92whMRERERZbZ2gnReaHxbLXIeFqkM73emX7dLH0f3yYT+d4RO99p3w/h5X0g973nvC2a+D4u2KorTGuVxheK0gtR5VU7snu8suiqdnTTd8UOb9IgygCciIqLdxEl4IiIiIqLM1tbR5G5C3/UqtTK36QLEKj32c3cSqmgEgJm68GNh5j/EvMfrh+XNArAKqTWvkA8BvhGoavPY0DnT7edOvA89nyXs+t8JERER3QgM4YmIiIiIsCPh+8p1JVtmXpi7yn62/1W7vEsH8m0YL7FpRmoPEQm/iZ3xQ6cyv1aSgvTUHy9x0l2RBebxXzUaFocVCZ+/VgBem0Vjw0bD/fHd8P0SL/BteG8QERHRTmAIT0RERES33k4E8LS8m3LRInep55TC87RIqzb7UgCSV9V4bRdZjbeHEL7ti2+G3gf+esRn+zcSJuBte+D90H7oOImIiIhuCobwRERERHRr7WT4fhOD5VUt8urt3it8sXnPaeH3RXcyHkDsctfUXNPbXJuq9s5EfLOv+Q8sCqjXkONLlvjni78iD/LX8ILdxNeciIiIdhpDeCIiIiK6VdYavF9nHcquVrFc5gICL0Ccb+nz038DST4cP7j98O/6fTndnyXm+yo68+u1Vc+scRdERERE6yY61MNHRERERHQD7eTk+zyrLGy6DYZS3FUXZ921537Vtu6ChTQLs649fN/ArnbVg3cPt+6VJyIiuu04CU9EREREtMt2dSI+dxOewzY6b6XVa9KtnVnzC8/3EBEREW0pc90HQERERER0FW7UFPyukOwr4atwi/Vra9a4W76viIiIaIsxhCciIiIi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",[[53.30237414043783,-87.01826234455908],[23.05901969741584,-52.27176102586414]],null,null,{"tileSize":256,"zIndex":1,"minZoom":0,"opacity":0.8}]},{"method":"addLegend","args":[{"colors":["#5E4FA2 , #4B9CB5 13.4546468142796%, #98D5A4 26.95759423576%, #E7F59A 40.4605416572404%, #FFF3AA 53.9634890787207%, #FEBB6B 67.4664365002011%, #F16944 80.9693839216815%, #BC2849 94.4723313431619%, #9E0142 "],"labels":["0.1","0.2","0.3","0.4","0.5","0.6","0.7"],"na_color":null,"na_label":"NA","opacity":0.5,"position":"topright","type":"numeric","title":"n_per_km2","extra":{"p_1":0.1345464681427963,"p_n":0.9447233134316186},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[23.05901969741584,53.30237414043783],"lng":[-87.01826234455908,-52.27176102586414]}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># * get bounding box via titiler ----</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>titiler_endpoint <span class="ot">=</span> <span class="st">"https://titiler.xyz"</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>cog_bb <span class="ot">&lt;-</span> <span class="fu">request</span>(titiler_endpoint) <span class="sc">|&gt;</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_path_append</span>(<span class="st">"cog"</span>, <span class="st">"bounds"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_query</span>(</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> cog_url,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">bidx =</span> bidx) <span class="sc">|&gt;</span> </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">resp_body_json</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>cog_bb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -87.01826  23.06746 -52.26961  53.30289</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># * get range of values via titiler ----</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>cog_rng <span class="ot">&lt;-</span> <span class="fu">request</span>(titiler_endpoint) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_path_append</span>(<span class="st">"cog"</span>, <span class="st">"statistics"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_query</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">url  =</span> cog_url,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">bidx =</span> bidx) <span class="sc">|&gt;</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">resp_body_json</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="fu">glue</span>(<span class="st">"b{bidx}"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">keep_at</span>(<span class="sc">~</span> .x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"min"</span>, <span class="st">"max"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>cog_rng</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0003564832 0.8107504845</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set cog_rng manually</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cog_rng &lt;- range(values(r, na.rm=T))</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>tile_opts <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bidx={bidx}&amp;expression=b{bidx}&amp;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">  unscale=false&amp;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">  resampling={cog_method}&amp;reproject={cog_method}&amp;return_mask=true&amp;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">  rescale={paste(cog_rng, collapse=',')}&amp;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="st">  colormap_name={cog_palette}"</span>) <span class="sc">|&gt;</span> <span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">""</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>sdm_tile_url  <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"{titiler_endpoint}/cog/tiles/WebMercatorQuad/{{z}}/{{x}}/{{y}}@2x.png?url={cog_url}&amp;{tile_opts}"</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># OLD: https://api.cogeo.xyz/docs#/Cloud%20Optimized%20GeoTIFF/tile_cog_tiles__TileMatrixSetId___z___x___y___scale_x__format__get</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: cogeo.xyz (bidx = 1,2,3) VS titiler.xyz (bidx = List [ 1, 2, 3]) ?</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># NEW: https://titiler.xyz/api.html#/Cloud%20Optimized%20GeoTIFF/tile_cog_tiles__tileMatrixSetId___z___x___y___scale_x__format__get</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rdeck)</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>dir_private <span class="ot">&lt;-</span> <span class="cf">switch</span>(</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.info</span>()[[<span class="st">"sysname"</span>]],</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Darwin"</span> <span class="ot">=</span> <span class="st">"/Users/bbest/My Drive/private"</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Linux"</span>  <span class="ot">=</span> <span class="st">"/share/private"</span>)</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>mb_token_txt <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_private}/mapbox_token_bdbest.txt"</span>)</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>mb_token <span class="ot">&lt;-</span> <span class="fu">readLines</span>(mb_token_txt)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">rdeck.mapbox_access_token =</span> mb_token)</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>bb <span class="ot">&lt;-</span> cog_bb</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="fu">rdeck</span>(</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">map_style      =</span> <span class="fu">mapbox_dark</span>(),</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">theme          =</span> <span class="st">"light"</span>,</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">initial_bounds =</span> <span class="fu">st_bbox</span>(</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="at">xmin=</span>bb[<span class="dv">1</span>], <span class="at">ymin=</span>bb[<span class="dv">2</span>], <span class="at">xmax=</span>bb[<span class="dv">3</span>], <span class="at">ymax=</span>bb[<span class="dv">4</span>]),</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">crs =</span> <span class="fu">st_crs</span>(<span class="dv">4326</span>) ) )  <span class="sc">|&gt;</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_tile_layer</span>(</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">id                =</span> <span class="st">"sdm"</span>,</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">name              =</span> <span class="st">"sdm"</span>,</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># visible           = F,</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># visibility_toggle = T,</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity           =</span> <span class="fl">0.5</span>,</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">data              =</span> sdm_tile_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="rdeck html-widget html-fill-item" id="htmlwidget-7fed21132f69a3d94a8b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7fed21132f69a3d94a8b">{"x":{"theme":"light","deckgl":{"initialBounds":[-87.018262,23.067461,-52.269606,53.302894],"initialViewState":{"longitude":0,"latitude":0,"zoom":1,"pitch":0,"bearing":0},"controller":true,"pickingRadius":0,"useDevicePixels":true,"blendingMode":"normal"},"mapgl":{"mapStyle":"mapbox://styles/mapbox/dark-v10","mapboxAccessToken":"pk.eyJ1IjoiYmRiZXN0IiwiYSI6ImNqeTQzcjMzYjE2MnMzb3AyaXBmOWZueG4ifQ.kOxbgvSal1U-3LaYKOo3rw"},"layers":[{"type":"TileLayer","id":"sdm","name":"sdm","groupName":null,"data":"https://titiler.xyz/cog/tiles/WebMercatorQuad/{z}/{x}/{y}@2x.png?url=https://file.marinesensitivity.org/cog/sdm/raw/nc_atl_birds_dens/ARTE_summer.tif&bidx=1&expression=b1&unscale=false&resampling=bilinear&reproject=bilinear&return_mask=true&rescale=0.00035648315679282,0.810750484466553&colormap_name=spectral_r","visible":true,"pickable":false,"opacity":0.5,"wrapLongitude":false,"positionFormat":"XY","colorFormat":"RGBA","autoHighlight":false,"highlightColor":"#00008080","getTileData":null,"extent":null,"tileSize":512,"maxZoom":null,"minZoom":0,"maxCacheSize":null,"maxCacheByteSize":null,"refinementStrategy":"best-available","zRange":null,"maxRequests":6,"zoomOffset":0,"blendingMode":"normal","visibilityToggle":true,"tooltip":null,"desaturate":0,"transparentColor":"#00000000","tintColor":"#ffffff"}],"layerSelector":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- -->



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-leirness2021" class="csl-entry" role="listitem">
Leirness, J. B., Josh Adams, Lisa T. Ballance, Michael Coyne, Jonathan J. Felis, Trevor Joyce, David M. Pereksta, Arliss J. Winship, Christopher FG Jeffrey, and D. Ainley. 2021. <span>“Modeling at-Sea Density of Marine Birds to Support Renewable Energy Planning on the Pacific Outer Continental Shelf of the Contiguous United States.”</span> <a href="https://repository.library.noaa.gov/view/noaa/49073">https://repository.library.noaa.gov/view/noaa/49073</a>.
</div>
<div id="ref-winship2018" class="csl-entry" role="listitem">
Winship, Arliss J., Brian Patrick Kinlan, Timothy Paul White, Jeffrey Leirness, and John Christensen. 2018. <span>“Modeling at-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning.”</span>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb14" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Ingest SDMs: NCCOS Atlantic &amp; Pacific Seabird Densities"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>NCCOS Atlantic &amp; Pacific Seabird Densities <span class="co">[</span><span class="ot">@winship2018; @leirness2021</span><span class="co">]</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>NCCOS Assessments: Modeling At-Sea Density of Marine Birds for Atlantic and Pacific</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Atlantic <span class="co">[</span><span class="ot">NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682)</span><span class="co">](https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0176682)</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Pacific: <span class="co">[</span><span class="ot">NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882)</span><span class="co">](https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0242882)</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="in">/Users/bbest/My Drive/projects/_archive/offhab/data/raw/</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="in">ncei.noaa.gov - seabirds, atlantic/</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="in">- 0176682/1.1/data/0-data/NCCOS-Atlantic-Birds_ArchiveDataPackage/NCCOS-Atlantic-Birds_ArchiveDataPackage/Documentation/</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="in">  - Atlantic_bird_mapping_data_documentation.pdf</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="in">  - atl_spp.xlsx</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="in">ncei.noaa.gov - seabirds, pacific/</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="in">- 0242882/1.1/data/1-data/4LFC6T_PacificBirds_NCCOS/</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="in">  - DataDocumentation.pdf</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="in">  - pac_spp.xlsx</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a><span class="co">#| messages: FALSE</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: FALSE</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a><span class="co"># packages</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>librarian<span class="sc">::</span><span class="fu">shelf</span>(</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># devtools, </span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>  dplyr, DT, fs, gdalUtilities, glue, here, httr2, janitor, jsonlite, knitr,</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>  mapview, purrr, readr,</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>  readxl, sf, stringr, terra, tibble, tidyr, units,</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">quiet =</span> T)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">readr.show_col_types =</span> F)</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"libs/db.R"</span>)) <span class="co"># con, create_index()</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r d_datasets}</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="in">schema &lt;- "public"</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a><span class="in">d_dataset_atl &lt;- tibble(</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a><span class="in">  ds_key        = "nc_atl_birds_dens",</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a><span class="in">  response_type = "density",             </span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a><span class="in">  # ds_key:     "{src}-{rgn}-{taxa}-{resp}"; see below for response_type, taxa_groups lookups</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a><span class="in">  # name_short: "{source_broad} {regions} {taxa_groups} {response_type}"</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a><span class="in">  name_short  = "NCCOS Atlantic Seabird Densities", </span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a><span class="in">  name_full   = "NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682)",</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a><span class="in">  link        = "https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0176682",</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a><span class="in">  citation    = "Winship, Arliss J.; Kinlan, Brian P.; White, Timothy P.; Leirness, Jeffery B.; Christensen, John (2018). NCCOS Assessment: Modeling At-Sea Density of Marine Birds to Support Atlantic Marine Renewable Energy Planning from 1978-2016 (NCEI Accession 0176682). [indicate subset used]. NOAA National Centers for Environmental Information. Dataset. https://doi.org/10.25921/8eq5-q834. Accessed October 6, 2022.",</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a><span class="in">  description = "This dataset provides seasonal spatial rasters of predicted long-term (1980-2017) density of 33 individual species and 13 taxonomic groups of marine birds throughout the Pacific Outer Continental Shelf (OCS) and adjacent waters off the contiguous United States at 2-km spatial resolution. Two indications of the uncertainty associated with the model predictions are also provided: 1) seasonal spatial layers indicating areas with no survey effort and 2) seasonal spatial rasters of the precision of predicted density of each species/group characterized as its coefficient of variation (CV). Predicted density should always be considered in conjunction with these two indications of uncertainty. This dataset also includes spatial rasters of environmental predictor variables that were used in the predictive modeling.",</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a><span class="in">  # response_type: one of: occurrence [occs], range [rng], suitability [suit], probability [pr], biomass [m], density [dens], abundance [n]</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a><span class="in">  # taxa_groups: one or more of: fish [fish], invertebrates [inverts], marine mammals [marmams], cetaceans [cets], sea turtles [turtles], seabirds [birds], etc.</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a><span class="in">  taxa_groups  = "seabirds", </span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a><span class="in">  year_pub     = 2018,</span></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a><span class="in">  date_obs_beg = "1980-01-01", </span></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a><span class="in">  date_obs_end = "2016-10-05",      # up to, but not including *_end</span></span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a><span class="in">  date_env_beg = "1992-01-01", </span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a><span class="in">  date_env_end = "2018-01-01",      # up to, but not including *_end</span></span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a><span class="in">  regions      = list("Atlantic"))  # array</span></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a><span class="in">d_dataset_pac &lt;- tibble(</span></span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a><span class="in">  ds_key        = "nc_pac_birds_dens",</span></span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a><span class="in">  response_type = "density",             </span></span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a><span class="in">  # ds_key:     "{src}-{rgn}-{taxa}-{resp}"; see below for response_type, taxa_groups lookups</span></span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a><span class="in">  # name_short: "{source_broad} {regions} {taxa_groups} {response_type}"</span></span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a><span class="in">  name_short  = "NCCOS Pacific Seabird Densities", </span></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a><span class="in">  name_full   = "NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882)",</span></span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a><span class="in">  link        = "https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0242882",</span></span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a><span class="in">  citation    = "Leirness, Jeffery B.; Adams, Josh; Ballance, Lisa T.; Coyne, Michael; Felis, Jonathan J.; Joyce, Trevor; Pereksta, David M.; Winship, Arliss J. (2022). NCCOS Assessment: Modeling at-sea density of marine birds to support renewable energy planning on the Pacific Outer Continental Shelf of the contiguous United States (NCEI Accession 0242882). [indicate subset used]. NOAA National Centers for Environmental Information. Dataset. https://doi.org/10.25921/xqf2-r853. Accessed October 6, 2022.",</span></span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a><span class="in">  description = "This dataset provides seasonal spatial rasters of predicted long-term (1980-2017) density of 33 individual species and 13 taxonomic groups of marine birds throughout the Pacific Outer Continental Shelf (OCS) and adjacent waters off the contiguous United States at 2-km spatial resolution. Two indications of the uncertainty associated with the model predictions are also provided: 1) seasonal spatial layers indicating areas with no survey effort and 2) seasonal spatial rasters of the precision of predicted density of each species/group characterized as its coefficient of variation (CV). Predicted density should always be considered in conjunction with these two indications of uncertainty. This dataset also includes spatial rasters of environmental predictor variables that were used in the predictive modeling.",</span></span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a><span class="in">  # response_type: one of: occurrence [occs], range [rng], suitability [suit], probability [pr], biomass [m], density [dens], abundance [n]</span></span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a><span class="in">  # taxa_groups: one or more of: fish [fish], invertebrates [inverts], marine mammals [marmams], cetaceans [cets], sea turtles [turtles], seabirds [birds], etc.</span></span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a><span class="in">  taxa_groups  = "seabirds", </span></span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a><span class="in">  year_pub     = 2022,</span></span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a><span class="in">  date_obs_beg = "1978-01-01",</span></span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a><span class="in">  date_obs_end = "2017-01-01",     # up to, but not including *_end</span></span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a><span class="in">  date_env_beg = "1981-01-01", </span></span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a><span class="in">  date_env_end = "2017-01-01",     # up to, but not including *_end</span></span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a><span class="in">  regions      = list("Pacific"))  # array</span></span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a><span class="in">d_datasets &lt;- bind_rows(d_dataset_atl, d_dataset_pac)</span></span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a><span class="in"># check: View(d_datasets); write_csv(d_datasets, "data/nc_datasets.csv"); glimpse(d_datasets)</span></span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a><span class="in"># names(d_dataset) |&gt; paste(collapse = ", ") |&gt; cat()</span></span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a><span class="in">t_datasets &lt;- Id(schema = schema, table = "sdm_datasets")</span></span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a><span class="in">row_exists &lt;- tbl(con, t_datasets) |&gt; filter(ds_key %in% !!d_datasets$ds_key) |&gt; collect() |&gt; nrow() == length(d_datasets$ds_key)</span></span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a><span class="in">if (!row_exists){</span></span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a><span class="in">  # append, except array columns: regions</span></span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a><span class="in">  dbWriteTable(</span></span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a><span class="in">    con, t_datasets, append = T,</span></span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a><span class="in">    d_datasets |&gt; </span></span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a><span class="in">      select(-regions) )</span></span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a><span class="in">  for (i in 1:nrow(d_datasets)){ # i=1</span></span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a><span class="in">    # append array column: regions</span></span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a><span class="in">    regions_sql &lt;- glue(</span></span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a><span class="in">      "ARRAY['{d_datasets$regions[[i]] |&gt; unlist() |&gt; paste(collapse = ', ')}']")</span></span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a><span class="in">    dbExecute(</span></span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a><span class="in">      con, </span></span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a><span class="in">      glue(</span></span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a><span class="in">        "UPDATE sdm_datasets </span></span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a><span class="in">        SET   regions = {regions_sql}</span></span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a><span class="in">        WHERE ds_key  = '{d_datasets$ds_key[[i]]}'") )</span></span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a><span class="in">if (F){ # run once for quick fix</span></span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a><span class="in">  dbExecute(con, glue(</span></span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a><span class="in">    "UPDATE sdm_datasets </span></span>
<span id="cb14-126"><a href="#cb14-126" aria-hidden="true" tabindex="-1"></a><span class="in">     SET   spatial_data_type = 'raster'"))</span></span>
<span id="cb14-127"><a href="#cb14-127" aria-hidden="true" tabindex="-1"></a><span class="in">  dbExecute(con, glue(</span></span>
<span id="cb14-128"><a href="#cb14-128" aria-hidden="true" tabindex="-1"></a><span class="in">    "UPDATE sdm_datasets </span></span>
<span id="cb14-129"><a href="#cb14-129" aria-hidden="true" tabindex="-1"></a><span class="in">     SET   spatial_data_type = 'vector'</span></span>
<span id="cb14-130"><a href="#cb14-130" aria-hidden="true" tabindex="-1"></a><span class="in">     WHERE ds_key = 'gm'") )</span></span>
<span id="cb14-131"><a href="#cb14-131" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb14-132"><a href="#cb14-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-133"><a href="#cb14-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-134"><a href="#cb14-134" aria-hidden="true" tabindex="-1"></a><span class="in">tbl(con, t_datasets) |&gt; </span></span>
<span id="cb14-135"><a href="#cb14-135" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(ds_key %in% !!d_datasets$ds_key) |&gt; </span></span>
<span id="cb14-136"><a href="#cb14-136" aria-hidden="true" tabindex="-1"></a><span class="in">  collect() |&gt;</span></span>
<span id="cb14-137"><a href="#cb14-137" aria-hidden="true" tabindex="-1"></a><span class="in">  glimpse()</span></span>
<span id="cb14-138"><a href="#cb14-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-139"><a href="#cb14-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-140"><a href="#cb14-140" aria-hidden="true" tabindex="-1"></a><span class="in">```{r rast}</span></span>
<span id="cb14-141"><a href="#cb14-141" aria-hidden="true" tabindex="-1"></a><span class="in"># setup paths ----</span></span>
<span id="cb14-142"><a href="#cb14-142" aria-hidden="true" tabindex="-1"></a><span class="in">dir_g   &lt;- "/Users/bbest/My Drive/projects/_archive/offhab/data/raw"</span></span>
<span id="cb14-143"><a href="#cb14-143" aria-hidden="true" tabindex="-1"></a><span class="in">dir_atl &lt;- glue("{dir_g}/ncei.noaa.gov - seabirds, atlantic/0176682/1.1/data/0-data/NCCOS-Atlantic-Birds_ArchiveDataPackage")</span></span>
<span id="cb14-144"><a href="#cb14-144" aria-hidden="true" tabindex="-1"></a><span class="in">dir_pac &lt;- glue("{dir_g}/ncei.noaa.gov - seabirds, pacific/0242882/1.1/data/0-data")</span></span>
<span id="cb14-145"><a href="#cb14-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-146"><a href="#cb14-146" aria-hidden="true" tabindex="-1"></a><span class="in">spp_atl_xls &lt;- glue("{dir_atl}/Documentation/atl_spp.xlsx")</span></span>
<span id="cb14-147"><a href="#cb14-147" aria-hidden="true" tabindex="-1"></a><span class="in">spp_pac_xls &lt;- glue("{dir_pac}/4LFC6T_PacificBirds_NCCOS/pac_spp.xlsx")</span></span>
<span id="cb14-148"><a href="#cb14-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-149"><a href="#cb14-149" aria-hidden="true" tabindex="-1"></a><span class="in"># get Atlantic rasters ----</span></span>
<span id="cb14-150"><a href="#cb14-150" aria-hidden="true" tabindex="-1"></a><span class="in">dir_atl_tif &lt;- glue("{dir_atl}/Data/model_output_predictions")</span></span>
<span id="cb14-151"><a href="#cb14-151" aria-hidden="true" tabindex="-1"></a><span class="in">rx_atl  &lt;- "(.+)_(.+)_predicted_relative_density_bootstrap_(.+)\\.tif$"</span></span>
<span id="cb14-152"><a href="#cb14-152" aria-hidden="true" tabindex="-1"></a><span class="in">d_atl &lt;- tibble(</span></span>
<span id="cb14-153"><a href="#cb14-153" aria-hidden="true" tabindex="-1"></a><span class="in">  path_tif = list.files(dir_atl_tif, rx_atl, full.names = T, recursive = T)) |&gt; </span></span>
<span id="cb14-154"><a href="#cb14-154" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb14-155"><a href="#cb14-155" aria-hidden="true" tabindex="-1"></a><span class="in">    file_tif = basename(path_tif),</span></span>
<span id="cb14-156"><a href="#cb14-156" aria-hidden="true" tabindex="-1"></a><span class="in">    region   = "Atlantic",</span></span>
<span id="cb14-157"><a href="#cb14-157" aria-hidden="true" tabindex="-1"></a><span class="in">    sp_code  = str_replace(file_tif, rx_atl, "\\1"),</span></span>
<span id="cb14-158"><a href="#cb14-158" aria-hidden="true" tabindex="-1"></a><span class="in">    season   = str_replace(file_tif, rx_atl, "\\2"),</span></span>
<span id="cb14-159"><a href="#cb14-159" aria-hidden="true" tabindex="-1"></a><span class="in">    var      = str_replace(file_tif, rx_atl, "\\3"))</span></span>
<span id="cb14-160"><a href="#cb14-160" aria-hidden="true" tabindex="-1"></a><span class="in"># d_atl |&gt; select(-path_tif) |&gt; glimpse()</span></span>
<span id="cb14-161"><a href="#cb14-161" aria-hidden="true" tabindex="-1"></a><span class="in"># Rows: 420</span></span>
<span id="cb14-162"><a href="#cb14-162" aria-hidden="true" tabindex="-1"></a><span class="in"># Columns: 5</span></span>
<span id="cb14-163"><a href="#cb14-163" aria-hidden="true" tabindex="-1"></a><span class="in"># $ file_tif &lt;chr&gt; "ATPU_fall_predicted_relative_density_bootstrap_CV.tif", "ATPU_fall_predicted_relative_den…</span></span>
<span id="cb14-164"><a href="#cb14-164" aria-hidden="true" tabindex="-1"></a><span class="in"># $ region   &lt;chr&gt; "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlantic", "Atlan…</span></span>
<span id="cb14-165"><a href="#cb14-165" aria-hidden="true" tabindex="-1"></a><span class="in"># $ sp_code  &lt;chr&gt; "ATPU", "ATPU", "ATPU", "AUSH", "AUSH", "AUSH", "BCPE", "BCPE", "BCPE", "BLKI", "BLKI", "B…</span></span>
<span id="cb14-166"><a href="#cb14-166" aria-hidden="true" tabindex="-1"></a><span class="in"># $ season   &lt;chr&gt; "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "fall", "f…</span></span>
<span id="cb14-167"><a href="#cb14-167" aria-hidden="true" tabindex="-1"></a><span class="in"># $ var      &lt;chr&gt; "CV", "QUANT_50", "RANGE_CI90", "CV", "QUANT_50", "RANGE_CI90", "CV", "QUANT_50", "RANGE_C…</span></span>
<span id="cb14-168"><a href="#cb14-168" aria-hidden="true" tabindex="-1"></a><span class="in"># check all tifs: fs::dir_ls(dir_atl_tif, glob="*.tif", recursive=T) |&gt; length()</span></span>
<span id="cb14-169"><a href="#cb14-169" aria-hidden="true" tabindex="-1"></a><span class="in">           </span></span>
<span id="cb14-170"><a href="#cb14-170" aria-hidden="true" tabindex="-1"></a><span class="in"># get Pacific rasters ----</span></span>
<span id="cb14-171"><a href="#cb14-171" aria-hidden="true" tabindex="-1"></a><span class="in">dir_pac_tif &lt;- glue("{dir_pac}/model_output_predictions")</span></span>
<span id="cb14-172"><a href="#cb14-172" aria-hidden="true" tabindex="-1"></a><span class="in">rx_pac      &lt;- "(.+)_(.+)_predicted_(.*).tif$"</span></span>
<span id="cb14-173"><a href="#cb14-173" aria-hidden="true" tabindex="-1"></a><span class="in">d_pac       &lt;- tibble(</span></span>
<span id="cb14-174"><a href="#cb14-174" aria-hidden="true" tabindex="-1"></a><span class="in">  path_tif = list.files(dir_pac_tif, rx_pac, full.names = T, recursive = T)) |&gt; </span></span>
<span id="cb14-175"><a href="#cb14-175" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb14-176"><a href="#cb14-176" aria-hidden="true" tabindex="-1"></a><span class="in">    file_tif = basename(path_tif),</span></span>
<span id="cb14-177"><a href="#cb14-177" aria-hidden="true" tabindex="-1"></a><span class="in">    region   = "Pacific",</span></span>
<span id="cb14-178"><a href="#cb14-178" aria-hidden="true" tabindex="-1"></a><span class="in">    sp_code  = str_replace(file_tif, rx_pac, "\\1"),</span></span>
<span id="cb14-179"><a href="#cb14-179" aria-hidden="true" tabindex="-1"></a><span class="in">    season   = str_replace(file_tif, rx_pac, "\\2"),</span></span>
<span id="cb14-180"><a href="#cb14-180" aria-hidden="true" tabindex="-1"></a><span class="in">    var      = str_replace(file_tif, rx_pac, "\\3"))</span></span>
<span id="cb14-181"><a href="#cb14-181" aria-hidden="true" tabindex="-1"></a><span class="in"># d_pac |&gt; select(-path_tif) |&gt; glimpse()</span></span>
<span id="cb14-182"><a href="#cb14-182" aria-hidden="true" tabindex="-1"></a><span class="in"># Rows: 270</span></span>
<span id="cb14-183"><a href="#cb14-183" aria-hidden="true" tabindex="-1"></a><span class="in"># Columns: 5</span></span>
<span id="cb14-184"><a href="#cb14-184" aria-hidden="true" tabindex="-1"></a><span class="in"># $ file_tif &lt;chr&gt; "ANMU_spring_predicted_density_CV.tif", "ANMU_spring_predicted_density.tif", "ASSP_fall_pred…</span></span>
<span id="cb14-185"><a href="#cb14-185" aria-hidden="true" tabindex="-1"></a><span class="in"># $ region   &lt;chr&gt; "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pacific", "Pac…</span></span>
<span id="cb14-186"><a href="#cb14-186" aria-hidden="true" tabindex="-1"></a><span class="in"># $ sp_code  &lt;chr&gt; "ANMU", "ANMU", "ASSP", "ASSP", "ASSP", "ASSP", "ASSP", "ASSP", "BFAL", "BFAL", "BFAL", "BFA…</span></span>
<span id="cb14-187"><a href="#cb14-187" aria-hidden="true" tabindex="-1"></a><span class="in"># $ season   &lt;chr&gt; "spring", "spring", "fall", "fall", "spring", "spring", "summer", "summer", "fall", "fall", …</span></span>
<span id="cb14-188"><a href="#cb14-188" aria-hidden="true" tabindex="-1"></a><span class="in"># $ var      &lt;chr&gt; "density_CV", "density", "density_CV", "density", "density_CV", "density", "density_CV", "de…</span></span>
<span id="cb14-189"><a href="#cb14-189" aria-hidden="true" tabindex="-1"></a><span class="in"># check for any missing TIFs: fs::dir_ls(dir_pac_tif, glob="*.tif", recursive=T) |&gt; length()</span></span>
<span id="cb14-190"><a href="#cb14-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-191"><a href="#cb14-191" aria-hidden="true" tabindex="-1"></a><span class="in"># combine Atlantic and Pacific ----</span></span>
<span id="cb14-192"><a href="#cb14-192" aria-hidden="true" tabindex="-1"></a><span class="in">d &lt;- bind_rows(</span></span>
<span id="cb14-193"><a href="#cb14-193" aria-hidden="true" tabindex="-1"></a><span class="in">  d_atl,</span></span>
<span id="cb14-194"><a href="#cb14-194" aria-hidden="true" tabindex="-1"></a><span class="in">  d_pac)</span></span>
<span id="cb14-195"><a href="#cb14-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-196"><a href="#cb14-196" aria-hidden="true" tabindex="-1"></a><span class="in"># run once</span></span>
<span id="cb14-197"><a href="#cb14-197" aria-hidden="true" tabindex="-1"></a><span class="in">if (F){</span></span>
<span id="cb14-198"><a href="#cb14-198" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-199"><a href="#cb14-199" aria-hidden="true" tabindex="-1"></a><span class="in">  # read in rasters ----</span></span>
<span id="cb14-200"><a href="#cb14-200" aria-hidden="true" tabindex="-1"></a><span class="in">  d &lt;- d |&gt; </span></span>
<span id="cb14-201"><a href="#cb14-201" aria-hidden="true" tabindex="-1"></a><span class="in">    select(region, sp_code, season, var, path_tif) |&gt; </span></span>
<span id="cb14-202"><a href="#cb14-202" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb14-203"><a href="#cb14-203" aria-hidden="true" tabindex="-1"></a><span class="in">      r      = map(path_tif, terra::rast),</span></span>
<span id="cb14-204"><a href="#cb14-204" aria-hidden="true" tabindex="-1"></a><span class="in">      crs    = map_chr(r, crs, proj=T),</span></span>
<span id="cb14-205"><a href="#cb14-205" aria-hidden="true" tabindex="-1"></a><span class="in">      crs_tr = map_chr(crs, str_trunc, 24),</span></span>
<span id="cb14-206"><a href="#cb14-206" aria-hidden="true" tabindex="-1"></a><span class="in">      nrow   = map_int(r, nrow),</span></span>
<span id="cb14-207"><a href="#cb14-207" aria-hidden="true" tabindex="-1"></a><span class="in">      ncol   = map_int(r, ncol)) |&gt; </span></span>
<span id="cb14-208"><a href="#cb14-208" aria-hidden="true" tabindex="-1"></a><span class="in">    arrange(region, crs_tr, sp_code, season, var)</span></span>
<span id="cb14-209"><a href="#cb14-209" aria-hidden="true" tabindex="-1"></a><span class="in">  # confirm same dims per region: d |&gt; select(nrow, ncol, region) |&gt; table()</span></span>
<span id="cb14-210"><a href="#cb14-210" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-211"><a href="#cb14-211" aria-hidden="true" tabindex="-1"></a><span class="in">  # fix rasters in Atlantic missing crs ----</span></span>
<span id="cb14-212"><a href="#cb14-212" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-213"><a href="#cb14-213" aria-hidden="true" tabindex="-1"></a><span class="in">  # unique(d$crs)</span></span>
<span id="cb14-214"><a href="#cb14-214" aria-hidden="true" tabindex="-1"></a><span class="in">  # [1] "+proj=omerc +lat_0=35 +lonc=-75 +alpha=40 +gamma=40 +k=0.9996 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span></span>
<span id="cb14-215"><a href="#cb14-215" aria-hidden="true" tabindex="-1"></a><span class="in">  # [2] ""</span></span>
<span id="cb14-216"><a href="#cb14-216" aria-hidden="true" tabindex="-1"></a><span class="in">  # [3] "+proj=omerc +lat_0=39 +lonc=-125 +alpha=75 +gamma=75 +k=0.9996 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"</span></span>
<span id="cb14-217"><a href="#cb14-217" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-218"><a href="#cb14-218" aria-hidden="true" tabindex="-1"></a><span class="in">  # d |&gt; select(crs_tr, region) |&gt; table()</span></span>
<span id="cb14-219"><a href="#cb14-219" aria-hidden="true" tabindex="-1"></a><span class="in">  #                           region</span></span>
<span id="cb14-220"><a href="#cb14-220" aria-hidden="true" tabindex="-1"></a><span class="in">  # crs_tr                     Atlantic Pacific</span></span>
<span id="cb14-221"><a href="#cb14-221" aria-hidden="true" tabindex="-1"></a><span class="in">  #                                   7       0</span></span>
<span id="cb14-222"><a href="#cb14-222" aria-hidden="true" tabindex="-1"></a><span class="in">  #   +proj=omerc +lat_0=35...      413       0</span></span>
<span id="cb14-223"><a href="#cb14-223" aria-hidden="true" tabindex="-1"></a><span class="in">  #   +proj=omerc +lat_0=39...        0     270</span></span>
<span id="cb14-224"><a href="#cb14-224" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-225"><a href="#cb14-225" aria-hidden="true" tabindex="-1"></a><span class="in">  crs_atl &lt;- d |&gt; </span></span>
<span id="cb14-226"><a href="#cb14-226" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(region == "Atlantic" &amp; crs != "") |&gt; </span></span>
<span id="cb14-227"><a href="#cb14-227" aria-hidden="true" tabindex="-1"></a><span class="in">    first() |&gt; </span></span>
<span id="cb14-228"><a href="#cb14-228" aria-hidden="true" tabindex="-1"></a><span class="in">    pull(crs)</span></span>
<span id="cb14-229"><a href="#cb14-229" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-230"><a href="#cb14-230" aria-hidden="true" tabindex="-1"></a><span class="in">  d &lt;- d |&gt; </span></span>
<span id="cb14-231"><a href="#cb14-231" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb14-232"><a href="#cb14-232" aria-hidden="true" tabindex="-1"></a><span class="in">      r = map(r, \(x) {</span></span>
<span id="cb14-233"><a href="#cb14-233" aria-hidden="true" tabindex="-1"></a><span class="in">        if (crs(x) == "")</span></span>
<span id="cb14-234"><a href="#cb14-234" aria-hidden="true" tabindex="-1"></a><span class="in">          crs(x) &lt;- crs_atl</span></span>
<span id="cb14-235"><a href="#cb14-235" aria-hidden="true" tabindex="-1"></a><span class="in">        x } ) ) |&gt; </span></span>
<span id="cb14-236"><a href="#cb14-236" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-crs, -crs_tr, -nrow, -ncol)</span></span>
<span id="cb14-237"><a href="#cb14-237" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-238"><a href="#cb14-238" aria-hidden="true" tabindex="-1"></a><span class="in">  # write rasters per model (region-species-season), including all vars ----</span></span>
<span id="cb14-239"><a href="#cb14-239" aria-hidden="true" tabindex="-1"></a><span class="in">  dir_tif &lt;- here("data/sdm/raw")</span></span>
<span id="cb14-240"><a href="#cb14-240" aria-hidden="true" tabindex="-1"></a><span class="in">  for (dir_ds in glue("{dir_tif}/{d_datasets$ds_key}"))</span></span>
<span id="cb14-241"><a href="#cb14-241" aria-hidden="true" tabindex="-1"></a><span class="in">    dir.create(dir_ds, recursive = T, showWarnings = F)</span></span>
<span id="cb14-242"><a href="#cb14-242" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-243"><a href="#cb14-243" aria-hidden="true" tabindex="-1"></a><span class="in">  # * standardize vars ----</span></span>
<span id="cb14-244"><a href="#cb14-244" aria-hidden="true" tabindex="-1"></a><span class="in">  # d |&gt; select(region, var) |&gt; table()</span></span>
<span id="cb14-245"><a href="#cb14-245" aria-hidden="true" tabindex="-1"></a><span class="in">  #           var</span></span>
<span id="cb14-246"><a href="#cb14-246" aria-hidden="true" tabindex="-1"></a><span class="in">  # region      CV density density_CV QUANT_50 RANGE_CI90</span></span>
<span id="cb14-247"><a href="#cb14-247" aria-hidden="true" tabindex="-1"></a><span class="in">  #   Atlantic 140       0          0      140        140</span></span>
<span id="cb14-248"><a href="#cb14-248" aria-hidden="true" tabindex="-1"></a><span class="in">  #   Pacific    0     135        135        0          0</span></span>
<span id="cb14-249"><a href="#cb14-249" aria-hidden="true" tabindex="-1"></a><span class="in">  d &lt;- d |&gt; </span></span>
<span id="cb14-250"><a href="#cb14-250" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb14-251"><a href="#cb14-251" aria-hidden="true" tabindex="-1"></a><span class="in">      ds_key  = case_match(</span></span>
<span id="cb14-252"><a href="#cb14-252" aria-hidden="true" tabindex="-1"></a><span class="in">        region,</span></span>
<span id="cb14-253"><a href="#cb14-253" aria-hidden="true" tabindex="-1"></a><span class="in">        "Atlantic" ~ "nc_atl_birds_dens",</span></span>
<span id="cb14-254"><a href="#cb14-254" aria-hidden="true" tabindex="-1"></a><span class="in">        "Pacific"  ~ "nc_pac_birds_dens"),</span></span>
<span id="cb14-255"><a href="#cb14-255" aria-hidden="true" tabindex="-1"></a><span class="in">      mdl_tif = glue("{dir_tif}/{ds_key}/{sp_code}_{season}.tif"),</span></span>
<span id="cb14-256"><a href="#cb14-256" aria-hidden="true" tabindex="-1"></a><span class="in">      var     = case_match(</span></span>
<span id="cb14-257"><a href="#cb14-257" aria-hidden="true" tabindex="-1"></a><span class="in">        var,</span></span>
<span id="cb14-258"><a href="#cb14-258" aria-hidden="true" tabindex="-1"></a><span class="in">        "density"    ~ "n_per_km2",</span></span>
<span id="cb14-259"><a href="#cb14-259" aria-hidden="true" tabindex="-1"></a><span class="in">        "QUANT_50"   ~ "n_per_km2",</span></span>
<span id="cb14-260"><a href="#cb14-260" aria-hidden="true" tabindex="-1"></a><span class="in">        "density_CV" ~ "cv_n_per_km2",</span></span>
<span id="cb14-261"><a href="#cb14-261" aria-hidden="true" tabindex="-1"></a><span class="in">        "CV"         ~ "cv_n_per_km2",</span></span>
<span id="cb14-262"><a href="#cb14-262" aria-hidden="true" tabindex="-1"></a><span class="in">        "RANGE_CI90" ~ "ci90_n_per_km2") )</span></span>
<span id="cb14-263"><a href="#cb14-263" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-264"><a href="#cb14-264" aria-hidden="true" tabindex="-1"></a><span class="in">  d_mdls &lt;- d |&gt; </span></span>
<span id="cb14-265"><a href="#cb14-265" aria-hidden="true" tabindex="-1"></a><span class="in">    arrange(</span></span>
<span id="cb14-266"><a href="#cb14-266" aria-hidden="true" tabindex="-1"></a><span class="in">      ds_key, region, sp_code, season, </span></span>
<span id="cb14-267"><a href="#cb14-267" aria-hidden="true" tabindex="-1"></a><span class="in">      # arrange by var to ensure n_per_km2 (density) is first, cv second</span></span>
<span id="cb14-268"><a href="#cb14-268" aria-hidden="true" tabindex="-1"></a><span class="in">      factor(var, levels = c("n_per_km2", "cv_n_per_km2", "ci90_n_per_km2"))) |&gt;</span></span>
<span id="cb14-269"><a href="#cb14-269" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(ds_key, region, sp_code, season, mdl_tif) |&gt; </span></span>
<span id="cb14-270"><a href="#cb14-270" aria-hidden="true" tabindex="-1"></a><span class="in">    nest() |&gt; </span></span>
<span id="cb14-271"><a href="#cb14-271" aria-hidden="true" tabindex="-1"></a><span class="in">    ungroup()</span></span>
<span id="cb14-272"><a href="#cb14-272" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-273"><a href="#cb14-273" aria-hidden="true" tabindex="-1"></a><span class="in">  # * write out rasters per model, convert to COG ----</span></span>
<span id="cb14-274"><a href="#cb14-274" aria-hidden="true" tabindex="-1"></a><span class="in">  d_mdls |&gt;</span></span>
<span id="cb14-275"><a href="#cb14-275" aria-hidden="true" tabindex="-1"></a><span class="in">    select(data, mdl_tif) |&gt;</span></span>
<span id="cb14-276"><a href="#cb14-276" aria-hidden="true" tabindex="-1"></a><span class="in">    pwalk(\(data, mdl_tif) {</span></span>
<span id="cb14-277"><a href="#cb14-277" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb14-278"><a href="#cb14-278" aria-hidden="true" tabindex="-1"></a><span class="in">      tmp_tif &lt;- tempfile(fileext = ".tif")</span></span>
<span id="cb14-279"><a href="#cb14-279" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb14-280"><a href="#cb14-280" aria-hidden="true" tabindex="-1"></a><span class="in">      # if mdl_tif already exists and is a valid COG, skip</span></span>
<span id="cb14-281"><a href="#cb14-281" aria-hidden="true" tabindex="-1"></a><span class="in">      if (file_exists(mdl_tif)){</span></span>
<span id="cb14-282"><a href="#cb14-282" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb14-283"><a href="#cb14-283" aria-hidden="true" tabindex="-1"></a><span class="in">        is_cog &lt;- system(glue("rio cogeo validate {mdl_tif}"), intern=T) |&gt; </span></span>
<span id="cb14-284"><a href="#cb14-284" aria-hidden="true" tabindex="-1"></a><span class="in">          str_detect(" is a valid cloud optimized GeoTIFF")</span></span>
<span id="cb14-285"><a href="#cb14-285" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb14-286"><a href="#cb14-286" aria-hidden="true" tabindex="-1"></a><span class="in">        if (is_cog)</span></span>
<span id="cb14-287"><a href="#cb14-287" aria-hidden="true" tabindex="-1"></a><span class="in">          return()</span></span>
<span id="cb14-288"><a href="#cb14-288" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb14-289"><a href="#cb14-289" aria-hidden="true" tabindex="-1"></a><span class="in">        file_move(mdl_tif, tmp_tif)</span></span>
<span id="cb14-290"><a href="#cb14-290" aria-hidden="true" tabindex="-1"></a><span class="in">      } else {</span></span>
<span id="cb14-291"><a href="#cb14-291" aria-hidden="true" tabindex="-1"></a><span class="in">        r        &lt;- rast(data$r)</span></span>
<span id="cb14-292"><a href="#cb14-292" aria-hidden="true" tabindex="-1"></a><span class="in">        names(r) &lt;- data$var</span></span>
<span id="cb14-293"><a href="#cb14-293" aria-hidden="true" tabindex="-1"></a><span class="in">        writeRaster(r, file = tmp_tif, overwrite = T)</span></span>
<span id="cb14-294"><a href="#cb14-294" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb14-295"><a href="#cb14-295" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb14-296"><a href="#cb14-296" aria-hidden="true" tabindex="-1"></a><span class="in">      system(glue("rio cogeo create {tmp_tif} {mdl_tif}"))</span></span>
<span id="cb14-297"><a href="#cb14-297" aria-hidden="true" tabindex="-1"></a><span class="in">      unlink(tmp_tif)</span></span>
<span id="cb14-298"><a href="#cb14-298" aria-hidden="true" tabindex="-1"></a><span class="in">    })</span></span>
<span id="cb14-299"><a href="#cb14-299" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-300"><a href="#cb14-300" aria-hidden="true" tabindex="-1"></a><span class="in">  # Uploaded all data/sdm/raw/{ds_key}/*.tif to rstudio.marinesensitivity.org:/share/public/cog/sdm/raw/{ds_key}/*.tif </span></span>
<span id="cb14-301"><a href="#cb14-301" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-302"><a href="#cb14-302" aria-hidden="true" tabindex="-1"></a><span class="in">  # TODO: make COGs (*.tif) into STAC w/ json metadata</span></span>
<span id="cb14-303"><a href="#cb14-303" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-304"><a href="#cb14-304" aria-hidden="true" tabindex="-1"></a><span class="in">  # * write out temp csv (later db tbl) of all models for shiny app sdm-cog, including band index `bidx` ----</span></span>
<span id="cb14-305"><a href="#cb14-305" aria-hidden="true" tabindex="-1"></a><span class="in">  d |&gt; </span></span>
<span id="cb14-306"><a href="#cb14-306" aria-hidden="true" tabindex="-1"></a><span class="in">    arrange(</span></span>
<span id="cb14-307"><a href="#cb14-307" aria-hidden="true" tabindex="-1"></a><span class="in">      ds_key, region, sp_code, season, </span></span>
<span id="cb14-308"><a href="#cb14-308" aria-hidden="true" tabindex="-1"></a><span class="in">      # arrange by var to ensure n_per_km2 (density) is first, cv second</span></span>
<span id="cb14-309"><a href="#cb14-309" aria-hidden="true" tabindex="-1"></a><span class="in">      factor(var, levels = c("n_per_km2", "cv_n_per_km2", "ci90_n_per_km2"))) |&gt;</span></span>
<span id="cb14-310"><a href="#cb14-310" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb14-311"><a href="#cb14-311" aria-hidden="true" tabindex="-1"></a><span class="in">      cog_url = glue("https://file.marinesensitivity.org/cog/sdm/raw/{ds_key}/{basename(mdl_tif)}"),</span></span>
<span id="cb14-312"><a href="#cb14-312" aria-hidden="true" tabindex="-1"></a><span class="in">      bidx    = factor(var, levels = c("n_per_km2", "cv_n_per_km2", "ci90_n_per_km2")) |&gt; as.integer()) |&gt; </span></span>
<span id="cb14-313"><a href="#cb14-313" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-r, -path_tif, -mdl_tif) |&gt; </span></span>
<span id="cb14-314"><a href="#cb14-314" aria-hidden="true" tabindex="-1"></a><span class="in">    relocate(ds_key) |&gt;</span></span>
<span id="cb14-315"><a href="#cb14-315" aria-hidden="true" tabindex="-1"></a><span class="in">    write_csv(here("data/nc_models.csv"))</span></span>
<span id="cb14-316"><a href="#cb14-316" aria-hidden="true" tabindex="-1"></a><span class="in">  # check: x |&gt; select(var, bidx) |&gt; table() </span></span>
<span id="cb14-317"><a href="#cb14-317" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb14-318"><a href="#cb14-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-319"><a href="#cb14-319" aria-hidden="true" tabindex="-1"></a><span class="in"># TODO: write d_mdls, d_spp to db </span></span>
<span id="cb14-320"><a href="#cb14-320" aria-hidden="true" tabindex="-1"></a><span class="in">#       use 'nc_*', not 'gm'</span></span>
<span id="cb14-321"><a href="#cb14-321" aria-hidden="true" tabindex="-1"></a><span class="in">#</span></span>
<span id="cb14-322"><a href="#cb14-322" aria-hidden="true" tabindex="-1"></a><span class="in"># t_mdls &lt;- Id(schema = schema, table = "sdm_models")</span></span>
<span id="cb14-323"><a href="#cb14-323" aria-hidden="true" tabindex="-1"></a><span class="in"># rows_exist &lt;- tbl(con, t_mdls) |&gt; filter(ds_key == "gm") |&gt; summarize(n()) |&gt; pull() &gt; 0</span></span>
<span id="cb14-324"><a href="#cb14-324" aria-hidden="true" tabindex="-1"></a><span class="in"># if (!rows_exist)</span></span>
<span id="cb14-325"><a href="#cb14-325" aria-hidden="true" tabindex="-1"></a><span class="in">#   dbWriteTable(con, t_mdls, d_mdls, append = T)</span></span>
<span id="cb14-326"><a href="#cb14-326" aria-hidden="true" tabindex="-1"></a><span class="in"># </span></span>
<span id="cb14-327"><a href="#cb14-327" aria-hidden="true" tabindex="-1"></a><span class="in"># t_spp &lt;- Id(schema = schema, table = "sdm_species")</span></span>
<span id="cb14-328"><a href="#cb14-328" aria-hidden="true" tabindex="-1"></a><span class="in"># rows_exist &lt;- tbl(con, t_spp) |&gt; filter(ds_key == "gm") |&gt; summarize(n()) |&gt; pull() &gt; 0</span></span>
<span id="cb14-329"><a href="#cb14-329" aria-hidden="true" tabindex="-1"></a><span class="in"># if (!rows_exist)</span></span>
<span id="cb14-330"><a href="#cb14-330" aria-hidden="true" tabindex="-1"></a><span class="in">#   dbWriteTable(con, t_spp, d_spp, append = T)</span></span>
<span id="cb14-331"><a href="#cb14-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-332"><a href="#cb14-332" aria-hidden="true" tabindex="-1"></a><span class="in"># table(d$var, d$region)</span></span>
<span id="cb14-333"><a href="#cb14-333" aria-hidden="true" tabindex="-1"></a><span class="in">#                  Atlantic Pacific</span></span>
<span id="cb14-334"><a href="#cb14-334" aria-hidden="true" tabindex="-1"></a><span class="in">#   ci90_n_per_km2      140       0</span></span>
<span id="cb14-335"><a href="#cb14-335" aria-hidden="true" tabindex="-1"></a><span class="in">#   cv_n_per_km2        140     135</span></span>
<span id="cb14-336"><a href="#cb14-336" aria-hidden="true" tabindex="-1"></a><span class="in">#   n_per_km2           140     135</span></span>
<span id="cb14-337"><a href="#cb14-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-338"><a href="#cb14-338" aria-hidden="true" tabindex="-1"></a><span class="in"># TODO: Pacific: somehow include survey_effort_mask_{season}.shp</span></span>
<span id="cb14-339"><a href="#cb14-339" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb14-340"><a href="#cb14-340" aria-hidden="true" tabindex="-1"></a><span class="in"># d &lt;- d |&gt; </span></span>
<span id="cb14-341"><a href="#cb14-341" aria-hidden="true" tabindex="-1"></a><span class="in">#   mutate(</span></span>
<span id="cb14-342"><a href="#cb14-342" aria-hidden="true" tabindex="-1"></a><span class="in">#     datatype = map_chr(r, datatype))</span></span>
<span id="cb14-343"><a href="#cb14-343" aria-hidden="true" tabindex="-1"></a><span class="in"># table(d$datatype, d$region)</span></span>
<span id="cb14-344"><a href="#cb14-344" aria-hidden="true" tabindex="-1"></a><span class="in"># FLT8S</span></span>
<span id="cb14-345"><a href="#cb14-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-346"><a href="#cb14-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-347"><a href="#cb14-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{r map-cog}</span></span>
<span id="cb14-348"><a href="#cb14-348" aria-hidden="true" tabindex="-1"></a><span class="in"># map COG ----</span></span>
<span id="cb14-349"><a href="#cb14-349" aria-hidden="true" tabindex="-1"></a><span class="in">cog_url        = "https://file.marinesensitivity.org/cog/sdm/raw/nc_atl_birds_dens/ARTE_summer.tif"</span></span>
<span id="cb14-350"><a href="#cb14-350" aria-hidden="true" tabindex="-1"></a><span class="in">cog_method     = "bilinear"</span></span>
<span id="cb14-351"><a href="#cb14-351" aria-hidden="true" tabindex="-1"></a><span class="in">cog_palette    = "spectral_r"</span></span>
<span id="cb14-352"><a href="#cb14-352" aria-hidden="true" tabindex="-1"></a><span class="in">lgnd_palette   = "Spectral"</span></span>
<span id="cb14-353"><a href="#cb14-353" aria-hidden="true" tabindex="-1"></a><span class="in">lgnd_palette_r = T</span></span>
<span id="cb14-354"><a href="#cb14-354" aria-hidden="true" tabindex="-1"></a><span class="in">bidx           = 1</span></span>
<span id="cb14-355"><a href="#cb14-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-356"><a href="#cb14-356" aria-hidden="true" tabindex="-1"></a><span class="in"># * plot locally ----</span></span>
<span id="cb14-357"><a href="#cb14-357" aria-hidden="true" tabindex="-1"></a><span class="in">cog_tif &lt;- str_replace(</span></span>
<span id="cb14-358"><a href="#cb14-358" aria-hidden="true" tabindex="-1"></a><span class="in">  cog_url,</span></span>
<span id="cb14-359"><a href="#cb14-359" aria-hidden="true" tabindex="-1"></a><span class="in">  "https://file.marinesensitivity.org/cog/sdm",</span></span>
<span id="cb14-360"><a href="#cb14-360" aria-hidden="true" tabindex="-1"></a><span class="in">  here("data/sdm"))</span></span>
<span id="cb14-361"><a href="#cb14-361" aria-hidden="true" tabindex="-1"></a><span class="in">stopifnot(file.exists(cog_tif))</span></span>
<span id="cb14-362"><a href="#cb14-362" aria-hidden="true" tabindex="-1"></a><span class="in">r &lt;- rast(cog_tif, lyrs=bidx)</span></span>
<span id="cb14-363"><a href="#cb14-363" aria-hidden="true" tabindex="-1"></a><span class="in">plot(r) # plot native terra</span></span>
<span id="cb14-364"><a href="#cb14-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-365"><a href="#cb14-365" aria-hidden="true" tabindex="-1"></a><span class="in"># * plot via terra::plet() ----</span></span>
<span id="cb14-366"><a href="#cb14-366" aria-hidden="true" tabindex="-1"></a><span class="in">plet(</span></span>
<span id="cb14-367"><a href="#cb14-367" aria-hidden="true" tabindex="-1"></a><span class="in">  r, </span></span>
<span id="cb14-368"><a href="#cb14-368" aria-hidden="true" tabindex="-1"></a><span class="in">  col = RColorBrewer::brewer.pal(</span></span>
<span id="cb14-369"><a href="#cb14-369" aria-hidden="true" tabindex="-1"></a><span class="in">    11, "Spectral") |&gt; rev(),</span></span>
<span id="cb14-370"><a href="#cb14-370" aria-hidden="true" tabindex="-1"></a><span class="in">  tiles = "Esri.OceanBasemap")</span></span>
<span id="cb14-371"><a href="#cb14-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-372"><a href="#cb14-372" aria-hidden="true" tabindex="-1"></a><span class="in"># * plot via leaflet ----</span></span>
<span id="cb14-373"><a href="#cb14-373" aria-hidden="true" tabindex="-1"></a><span class="in">library(leaflet)</span></span>
<span id="cb14-374"><a href="#cb14-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-375"><a href="#cb14-375" aria-hidden="true" tabindex="-1"></a><span class="in">r_mer &lt;- leaflet::projectRasterForLeaflet(</span></span>
<span id="cb14-376"><a href="#cb14-376" aria-hidden="true" tabindex="-1"></a><span class="in">  r, method = "bilinear")</span></span>
<span id="cb14-377"><a href="#cb14-377" aria-hidden="true" tabindex="-1"></a><span class="in">pal &lt;- colorNumeric("Spectral", values(r_mer),</span></span>
<span id="cb14-378"><a href="#cb14-378" aria-hidden="true" tabindex="-1"></a><span class="in">  na.color = "transparent", reverse = T)</span></span>
<span id="cb14-379"><a href="#cb14-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-380"><a href="#cb14-380" aria-hidden="true" tabindex="-1"></a><span class="in">leaflet() |&gt; </span></span>
<span id="cb14-381"><a href="#cb14-381" aria-hidden="true" tabindex="-1"></a><span class="in">  addProviderTiles("Esri.OceanBasemap") |&gt; </span></span>
<span id="cb14-382"><a href="#cb14-382" aria-hidden="true" tabindex="-1"></a><span class="in">  addRasterImage(r_mer, colors = pal, opacity = 0.8) |&gt;</span></span>
<span id="cb14-383"><a href="#cb14-383" aria-hidden="true" tabindex="-1"></a><span class="in">  addLegend(pal = pal, values = values(r_mer),</span></span>
<span id="cb14-384"><a href="#cb14-384" aria-hidden="true" tabindex="-1"></a><span class="in">    title = names(r_mer))</span></span>
<span id="cb14-385"><a href="#cb14-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-386"><a href="#cb14-386" aria-hidden="true" tabindex="-1"></a><span class="in"># * get bounding box via titiler ----</span></span>
<span id="cb14-387"><a href="#cb14-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-388"><a href="#cb14-388" aria-hidden="true" tabindex="-1"></a><span class="in">titiler_endpoint = "https://titiler.xyz"</span></span>
<span id="cb14-389"><a href="#cb14-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-390"><a href="#cb14-390" aria-hidden="true" tabindex="-1"></a><span class="in">cog_bb &lt;- request(titiler_endpoint) |&gt; </span></span>
<span id="cb14-391"><a href="#cb14-391" aria-hidden="true" tabindex="-1"></a><span class="in">  req_url_path_append("cog", "bounds") |&gt; </span></span>
<span id="cb14-392"><a href="#cb14-392" aria-hidden="true" tabindex="-1"></a><span class="in">  req_url_query(</span></span>
<span id="cb14-393"><a href="#cb14-393" aria-hidden="true" tabindex="-1"></a><span class="in">    url = cog_url,</span></span>
<span id="cb14-394"><a href="#cb14-394" aria-hidden="true" tabindex="-1"></a><span class="in">    bidx = bidx) |&gt; </span></span>
<span id="cb14-395"><a href="#cb14-395" aria-hidden="true" tabindex="-1"></a><span class="in">  req_perform() |&gt; </span></span>
<span id="cb14-396"><a href="#cb14-396" aria-hidden="true" tabindex="-1"></a><span class="in">  resp_body_json() |&gt; </span></span>
<span id="cb14-397"><a href="#cb14-397" aria-hidden="true" tabindex="-1"></a><span class="in">  unlist() |&gt; </span></span>
<span id="cb14-398"><a href="#cb14-398" aria-hidden="true" tabindex="-1"></a><span class="in">  as.numeric()</span></span>
<span id="cb14-399"><a href="#cb14-399" aria-hidden="true" tabindex="-1"></a><span class="in">cog_bb</span></span>
<span id="cb14-400"><a href="#cb14-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-401"><a href="#cb14-401" aria-hidden="true" tabindex="-1"></a><span class="in"># * get range of values via titiler ----</span></span>
<span id="cb14-402"><a href="#cb14-402" aria-hidden="true" tabindex="-1"></a><span class="in">cog_rng &lt;- request(titiler_endpoint) |&gt; </span></span>
<span id="cb14-403"><a href="#cb14-403" aria-hidden="true" tabindex="-1"></a><span class="in">  req_url_path_append("cog", "statistics") |&gt; </span></span>
<span id="cb14-404"><a href="#cb14-404" aria-hidden="true" tabindex="-1"></a><span class="in">  req_url_query(</span></span>
<span id="cb14-405"><a href="#cb14-405" aria-hidden="true" tabindex="-1"></a><span class="in">    url  = cog_url,</span></span>
<span id="cb14-406"><a href="#cb14-406" aria-hidden="true" tabindex="-1"></a><span class="in">    bidx = bidx) |&gt; </span></span>
<span id="cb14-407"><a href="#cb14-407" aria-hidden="true" tabindex="-1"></a><span class="in">  req_perform() |&gt; </span></span>
<span id="cb14-408"><a href="#cb14-408" aria-hidden="true" tabindex="-1"></a><span class="in">  resp_body_json() |&gt;</span></span>
<span id="cb14-409"><a href="#cb14-409" aria-hidden="true" tabindex="-1"></a><span class="in">  pluck(glue("b{bidx}")) |&gt; </span></span>
<span id="cb14-410"><a href="#cb14-410" aria-hidden="true" tabindex="-1"></a><span class="in">  keep_at(~ .x %in% c("min", "max")) |&gt; </span></span>
<span id="cb14-411"><a href="#cb14-411" aria-hidden="true" tabindex="-1"></a><span class="in">  as.numeric()</span></span>
<span id="cb14-412"><a href="#cb14-412" aria-hidden="true" tabindex="-1"></a><span class="in">cog_rng</span></span>
<span id="cb14-413"><a href="#cb14-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-414"><a href="#cb14-414" aria-hidden="true" tabindex="-1"></a><span class="in"># set cog_rng manually</span></span>
<span id="cb14-415"><a href="#cb14-415" aria-hidden="true" tabindex="-1"></a><span class="in"># cog_rng &lt;- range(values(r, na.rm=T))</span></span>
<span id="cb14-416"><a href="#cb14-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-417"><a href="#cb14-417" aria-hidden="true" tabindex="-1"></a><span class="in">tile_opts &lt;- glue(</span></span>
<span id="cb14-418"><a href="#cb14-418" aria-hidden="true" tabindex="-1"></a><span class="in">  "bidx={bidx}&amp;expression=b{bidx}&amp;</span></span>
<span id="cb14-419"><a href="#cb14-419" aria-hidden="true" tabindex="-1"></a><span class="in">  unscale=false&amp;</span></span>
<span id="cb14-420"><a href="#cb14-420" aria-hidden="true" tabindex="-1"></a><span class="in">  resampling={cog_method}&amp;reproject={cog_method}&amp;return_mask=true&amp;</span></span>
<span id="cb14-421"><a href="#cb14-421" aria-hidden="true" tabindex="-1"></a><span class="in">  rescale={paste(cog_rng, collapse=',')}&amp;</span></span>
<span id="cb14-422"><a href="#cb14-422" aria-hidden="true" tabindex="-1"></a><span class="in">  colormap_name={cog_palette}") |&gt; str_replace_all("\\s+", "")</span></span>
<span id="cb14-423"><a href="#cb14-423" aria-hidden="true" tabindex="-1"></a><span class="in">sdm_tile_url  &lt;- glue(</span></span>
<span id="cb14-424"><a href="#cb14-424" aria-hidden="true" tabindex="-1"></a><span class="in">  "{titiler_endpoint}/cog/tiles/WebMercatorQuad/{{z}}/{{x}}/{{y}}@2x.png?url={cog_url}&amp;{tile_opts}")</span></span>
<span id="cb14-425"><a href="#cb14-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-426"><a href="#cb14-426" aria-hidden="true" tabindex="-1"></a><span class="in"># OLD: https://api.cogeo.xyz/docs#/Cloud%20Optimized%20GeoTIFF/tile_cog_tiles__TileMatrixSetId___z___x___y___scale_x__format__get</span></span>
<span id="cb14-427"><a href="#cb14-427" aria-hidden="true" tabindex="-1"></a><span class="in"># </span></span>
<span id="cb14-428"><a href="#cb14-428" aria-hidden="true" tabindex="-1"></a><span class="in"># TODO: cogeo.xyz (bidx = 1,2,3) VS titiler.xyz (bidx = List [ 1, 2, 3]) ?</span></span>
<span id="cb14-429"><a href="#cb14-429" aria-hidden="true" tabindex="-1"></a><span class="in">#</span></span>
<span id="cb14-430"><a href="#cb14-430" aria-hidden="true" tabindex="-1"></a><span class="in"># NEW: https://titiler.xyz/api.html#/Cloud%20Optimized%20GeoTIFF/tile_cog_tiles__tileMatrixSetId___z___x___y___scale_x__format__get</span></span>
<span id="cb14-431"><a href="#cb14-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-432"><a href="#cb14-432" aria-hidden="true" tabindex="-1"></a><span class="in">library(rdeck)</span></span>
<span id="cb14-433"><a href="#cb14-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-434"><a href="#cb14-434" aria-hidden="true" tabindex="-1"></a><span class="in">dir_private &lt;- switch(</span></span>
<span id="cb14-435"><a href="#cb14-435" aria-hidden="true" tabindex="-1"></a><span class="in">  Sys.info()[["sysname"]],</span></span>
<span id="cb14-436"><a href="#cb14-436" aria-hidden="true" tabindex="-1"></a><span class="in">  "Darwin" = "/Users/bbest/My Drive/private",</span></span>
<span id="cb14-437"><a href="#cb14-437" aria-hidden="true" tabindex="-1"></a><span class="in">  "Linux"  = "/share/private")</span></span>
<span id="cb14-438"><a href="#cb14-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-439"><a href="#cb14-439" aria-hidden="true" tabindex="-1"></a><span class="in">mb_token_txt &lt;- glue("{dir_private}/mapbox_token_bdbest.txt")</span></span>
<span id="cb14-440"><a href="#cb14-440" aria-hidden="true" tabindex="-1"></a><span class="in">mb_token &lt;- readLines(mb_token_txt)</span></span>
<span id="cb14-441"><a href="#cb14-441" aria-hidden="true" tabindex="-1"></a><span class="in">options(rdeck.mapbox_access_token = mb_token)</span></span>
<span id="cb14-442"><a href="#cb14-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-443"><a href="#cb14-443" aria-hidden="true" tabindex="-1"></a><span class="in">bb &lt;- cog_bb</span></span>
<span id="cb14-444"><a href="#cb14-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-445"><a href="#cb14-445" aria-hidden="true" tabindex="-1"></a><span class="in">rdeck(</span></span>
<span id="cb14-446"><a href="#cb14-446" aria-hidden="true" tabindex="-1"></a><span class="in">  map_style      = mapbox_dark(),</span></span>
<span id="cb14-447"><a href="#cb14-447" aria-hidden="true" tabindex="-1"></a><span class="in">  theme          = "light",</span></span>
<span id="cb14-448"><a href="#cb14-448" aria-hidden="true" tabindex="-1"></a><span class="in">  initial_bounds = st_bbox(</span></span>
<span id="cb14-449"><a href="#cb14-449" aria-hidden="true" tabindex="-1"></a><span class="in">    c(xmin=bb[1], ymin=bb[2], xmax=bb[3], ymax=bb[4]),</span></span>
<span id="cb14-450"><a href="#cb14-450" aria-hidden="true" tabindex="-1"></a><span class="in">    crs = st_crs(4326) ) )  |&gt;</span></span>
<span id="cb14-451"><a href="#cb14-451" aria-hidden="true" tabindex="-1"></a><span class="in">  add_tile_layer(</span></span>
<span id="cb14-452"><a href="#cb14-452" aria-hidden="true" tabindex="-1"></a><span class="in">    id                = "sdm",</span></span>
<span id="cb14-453"><a href="#cb14-453" aria-hidden="true" tabindex="-1"></a><span class="in">    name              = "sdm",</span></span>
<span id="cb14-454"><a href="#cb14-454" aria-hidden="true" tabindex="-1"></a><span class="in">    # visible           = F,</span></span>
<span id="cb14-455"><a href="#cb14-455" aria-hidden="true" tabindex="-1"></a><span class="in">    # visibility_toggle = T,</span></span>
<span id="cb14-456"><a href="#cb14-456" aria-hidden="true" tabindex="-1"></a><span class="in">    opacity           = 0.5,</span></span>
<span id="cb14-457"><a href="#cb14-457" aria-hidden="true" tabindex="-1"></a><span class="in">    data              = sdm_tile_url)</span></span>
<span id="cb14-458"><a href="#cb14-458" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>